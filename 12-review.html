<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Review</title>
    <meta charset="utf-8" />
    <meta name="author" content="Lucy D‚ÄôAgostino McGowan" />
    <meta name="date" content="2022-03-14" />
    <script src="libs/header-attrs-2.11/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view-0.2.6/tile-view.js"></script>
    <link rel="stylesheet" href="css/style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">







class: center middle main-title section-title-1

# Review

.class-info[

**Session 13**

.light[STA 379/679: Causal Inference &lt;br&gt;
Lucy D'Agostino McGowan
]

]

---

![](img/diagramming/d14.png)

---
class: title title-1

# Asking good causal questions

.pull-left[

.box-inv-1.medium[the claim]

]


.pull-right[

.box-inv-1.medium[the evidence]

]

---

class: title title-1

# Asking good causal questions

.pull-left[

.box-inv-1.medium[the claim]
Smoking causes lung cancer
]


.pull-right[

.box-inv-1.medium[the evidence]

]

---
class: title title-1

# Asking good causal questions

.pull-left[

.box-inv-1.medium[the claim]
Smoking causes lung cancer
]


.pull-right[

.box-inv-1.medium[the evidence]
For people who smoking 15+cigarettes a day, reducing smoking by 50% reduces the risk of lung cancer over 5-10 years
]

--

.box-1.medium[do these match?]
--

.center[.huge[üôÖ]]

---
class: title title-1

# Asking good causal questions

.pull-left[

.box-1.medium[the question]
Does smoking cause lung cancer?
]


.pull-right[

.box-inv-1.medium[the evidence]
For people who smoking 15+cigarettes a day, reducing smoking by 50% reduces the risk of lung cancer over 5-10 years
]


.box-1.medium[do these match?]

.center[.huge[üôÖ]]
---

class: title title-1

# Asking good causal questions

.pull-left[

.box-inv-1.medium[the question]
For people who smoke 15+ cigarettes a day, does reducing smoking by 50% reduce the lung cancer risk over 5-10 years? 
]


.pull-right[

.box-inv-1.medium[the evidence]
For people who smoking 15+cigarettes a day, reducing smoking by 50% reduces the risk of lung cancer over 5-10 years
]


.box-1.medium[do these match?]

.center[.huge[üôå]]
---
class: title title-1

# What is a causal effect


.box-inv-1.medium[The causal effect is the comparison of the potential outcomes for the same unit at the same moment in time post-exposure]

--

.box-inv-1.medium[Whether the effect is **causal** depends on the potential outcomes but it **does not** depend on which outcome is actually observed]

---

class: title title-1

# Potential Outcome

--

 &lt;br&gt; &lt;br&gt;
.box-1[

What *will* happen to you in the future given you have a particular exposure

]  

&lt;br&gt;

--

.box-inv-1.medium[

**fixed** but **unknown**

]

---

class: title title-1

## Stable Unit Treatment Value Assumption

.box-inv-1[
The potential outcomes for any unit do not vary with the exposures assigned to other units, and, for each unit, there are no different forms or versions of each exposure level, which lead to different potential outcomes.]

.footer[
Imbens and Rubin (2015) *Causal Inference*
]

---

class: title title-1

# Exposure assignment

.box-inv-1[Understanding the **assignment mechanism** is crucial for understanding the causal effect]


.box-1[**individualistic**: your covariates / potential outcomes can't influence my assignment]



.box-1[**probabilistic**: all units must have **non-zero** probability for all exposures]



.box-1[**unconfounded**: assignment **cannot** depend on the potential outcomes]

---

class: title title-1

# Summary of assumptions


Assumption | Classic Randomized Trial| Randomized Trial| Observational Study
------------|-----------------|-------------------
No Interference | ü§∑ | ü§∑ | ü§∑
Consistency | üòÑ | üòÑ | ü§∑
Individualistic | üòÑ| ü§∑| ü§∑
Probabilistic |üòÑ| üòÑ| ü§∑
Unconfounded |üòÑ| ü§∑| ü§∑

---

class: title title-1

# Compontents of a target trial

.pull-left[
.box-inv-1.medium[eligibility criteria]

.box-inv-1.medium[consistent exposure]

.box-inv-1.medium[assignment procedures]

]
--
.pull-right[
.box-inv-1.medium[follow-up period]

.box-inv-1.medium[outcome]

.box-inv-1.medium[causal contrasts of interest]

.box-inv-1.medium[analysis plan]

]

.footer[HernaÃÅn &amp; Robins. (2016) American Journal of Epidemiology doi:10.1093/aje/kwv254]

---


class: center middle

&lt;figure&gt;
&lt;img src = "img/diagram/diagram/diagram.006.jpeg" width = "80%"&gt;&lt;/img&gt;
&lt;/figure&gt;

---
class: center middle

&lt;figure&gt;
&lt;img src = "img/diagram/diagram/diagram.009.jpeg" width = "80%"&gt;&lt;/img&gt;
&lt;/figure&gt;
---
class: center middle

&lt;figure&gt;
&lt;img src = "img/diagram/diagram/diagram.010.jpeg" width = "80%"&gt;&lt;/img&gt;
&lt;/figure&gt;
---
class: center middle

&lt;figure&gt;
&lt;img src = "img/diagram/diagram/diagram.011.jpeg" width = "80%"&gt;&lt;/img&gt;
&lt;/figure&gt;

---


class: center middle

&lt;figure&gt;
&lt;img src = "img/diagram/diagram/diagram.012.jpeg" width = "80%"&gt;&lt;/img&gt;
&lt;/figure&gt;

---

class: center middle

&lt;figure&gt;
&lt;img src = "img/diagram/diagram/diagram.013.jpeg" width = "80%"&gt;&lt;/img&gt;
&lt;/figure&gt;
---

class: center middle

&lt;figure&gt;
&lt;img src = "img/diagram/diagram/diagram.014.jpeg" width = "80%"&gt;&lt;/img&gt;
&lt;/figure&gt;

---

class: center middle

&lt;figure&gt;
&lt;img src = "img/diagram/diagram/diagram.015.jpeg" width = "80%"&gt;&lt;/img&gt;
&lt;/figure&gt;

---

class: center middle

&lt;figure&gt;
&lt;img src = "img/diagram/diagram/diagram.018.jpeg" width = "80%"&gt;&lt;/img&gt;
&lt;/figure&gt;

---

class: center middle

&lt;figure&gt;
&lt;img src = "img/diagram/diagram/diagram.019.jpeg" width = "80%"&gt;&lt;/img&gt;
&lt;/figure&gt;

---
class: center middle

&lt;figure&gt;
&lt;img src = "img/diagram/diagram/diagram.020.jpeg" width = "80%"&gt;&lt;/img&gt;
&lt;/figure&gt;

---
class: center middle

&lt;figure&gt;
&lt;img src = "img/diagram/diagram/diagram.021.jpeg" width = "80%"&gt;&lt;/img&gt;
&lt;/figure&gt;
---
class: center middle

&lt;figure&gt;
&lt;img src = "img/diagram/diagram/diagram.022.jpeg" width = "80%"&gt;&lt;/img&gt;
&lt;/figure&gt;
---
class: center middle

&lt;figure&gt;
&lt;img src = "img/diagram/diagram/diagram.025.jpeg" width = "80%"&gt;&lt;/img&gt;
&lt;/figure&gt;

---
class: title title-1

# Causal Diagrams: DAGs


.pull-left-3[

.box-inv-1.medium[directed]

.box-1[edges imply direction (arrows)]

]



.pull-middle-3[

.box-inv-1.medium[acyclic]

.box-1[no variables can "cause" themselves, thus there are no *cycles*]
]



.pull-right-3[

.box-inv-1.medium[graph]


]
---
class: title title-1

# Directed Acyclic Graphs!

&lt;img src="12-review_files/figure-html/unnamed-chunk-1-1.png" width="504" style="display: block; margin: auto;" /&gt;

---
class: title title-1

# Spurious associations 

![](img/dags-cars/dags-cars.001.png)

---

class: title title-1

# Eliminate backdoor paths

&lt;img src="12-review_files/figure-html/unnamed-chunk-2-1.png" width="504" style="display: block; margin: auto;" /&gt;

--
.pull-right[
.box-1[What isn't here? Why?]
]
---

class: title title-1

# Identify adjustment sets

&lt;img src="12-review_files/figure-html/unnamed-chunk-3-1.png" width="504" style="display: block; margin: auto;" /&gt;

---


class: title title-1

# Spurious associations 

![](img/dags-cars/dags-cars.001.png)

---

![](img/estimand.jpeg)
---

class: title title-1

# Randomized Trials


.box-inv-1[Effect: ATE]

--

.box-1[Target population:  The whole population]

--
.box-1[
Estimand: `\(E[Y(1) - Y(0)]\)`
]

--
.box-1[
Estimator: `\(\frac{1}{N}\sum_{i=1}^N\left(\frac{Y^{obs}X_i}{N_e/N }-\frac{Y^{obs}(1-X_i)}{N_c/N}\right)\)`
]

--

.box-1[Unbiased?]
---
class: section-title-1 title-1 middle

# Propensity score: The average unit assignment probability for units where `\(Z_i=z\)`

.footer[Imbens and Rubin (2015) Causal Inference]

---

class: title title-1

# Observational studies


.box-inv-1[Effect: ATE]


.box-1[Target population:  The whole population]

.box-1[
Estimand: `\(E[Y(1) - Y(0)]\)`
]

.box-1[
Estimator: `\(\frac{1}{N}\sum_{i=1}^N\left(\frac{Y^{obs}X_i}{N_e/N }-\frac{Y^{obs}(1-X_i)}{N_c/N}\right)\)`
]

--

.box-1[
Unbiased?
]

---

class: title title-1

# Observational studies

.box-inv-1.medium[Propensity score weighting]

--

.box-inv-1.medium[Propensity score matching]

---

class: title title-1

# <svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"/></svg> Application Exercise

.huge[
[https://bit.ly/sta-679-ae-8](https://bit.ly/sta-679-ae-8)
]

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9",
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
